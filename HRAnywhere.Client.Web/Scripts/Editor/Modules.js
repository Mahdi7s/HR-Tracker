Type.registerNamespace("Telerik.Web.UI.Editor");
Type.registerNamespace("Telerik.Web.UI.Editor.Modules");
Telerik.Web.UI.Editor.ModulesManager=function(a){this._editor=a;
this._modules=[];
this._onEditorModeChangeDelegate=Function.createDelegate(this,this._onEditorModeChange);
};
Telerik.Web.UI.Editor.ModulesManager.prototype={initialize:function(){this.createModules();
this._editor.add_modeChange(this._onEditorModeChangeDelegate);
},getModuleByName:function(a){for(var b=0;
b<this._modules.length;
b++){if(this._modules[b].get_name()==a){return this._modules[b];
}}return null;
},createModules:function(){if(!this._editor){return;
}var a=this._editor.get_modulesJSON();
for(var b=0;
b<a.length;
b++){this.createModule(a[b]);
}},createModule:function(f){if(f.attributes){for(var j in f.attributes){f[j.toLowerCase()]=f.attributes[j];
}}var g=f.enabled;
if(false==g){return;
}f.editor=this._editor;
var d=f.name;
if(d){f.title=this._editor.getLocalizedString(d);
}var a=null;
var c=null;
try{a=eval("Telerik.Web.UI.Editor.Modules."+d);
}catch(h){c=h;
}if(!a){try{a=eval(d);
}catch(h){c=h;
}}if(!a){}if(a){var i=document.createElement("div");
var b=this._getModuleZone(f.dockingzone);
delete f.dockingzone;
delete f.dockable;
if(b){if(b.innerHTML=="&nbsp;"||b.innerHTML.length==1){b.innerHTML="";
}b.appendChild(i);
}this._modules[this._modules.length]=$create(a,f,null,null,i);
}},_getModuleZone:function(c){var a=this._editor.get_id();
var b=$get(a+c);
if(!b){b=$get(a+"Module");
}return b;
},_onEditorModeChange:function(c,b){var d=Telerik.Web.UI.EditModes;
var a=c.get_mode();
this.setModulesVisible((a==d.Design));
},setModulesVisible:function(d){var g=this._modules;
var c=false;
if(!d&&this._enabledModules==null){c=true;
this._enabledModules={};
for(var a=0;
a<g.length;
a++){var f=g[a];
if(f.get_visible()){this._enabledModules[f.get_name()]=true;
}f.set_visible(false);
}}else{if(d&&this._enabledModules){c=true;
for(var a=0;
a<g.length;
a++){var e=g[a];
var b=this._enabledModules[e.get_name()];
if(b){e.set_visible(true);
}}this._enabledModules=null;
}}if(c){this._fixIEBottomZoneDisplacement(d);
}},_fixIEBottomZoneDisplacement:function(c){if($telerik.isIE){if(!this._emptySpan){this._emptySpan=document.createElement("span");
var b=this._getModuleZone("Bottom");
if(b){var a=this._emptySpan;
a.innerHTML="&nbsp;";
a.style.display="none";
b.appendChild(a);
}}this._emptySpan.style.display=c?"none":"";
}},get_modules:function(){return this._modules;
}};
Telerik.Web.UI.Editor.ModulesManager.registerClass("Telerik.Web.UI.Editor.ModulesManager",null);
Telerik.Web.UI.Editor.Modules.ModuleBase=function(a){Telerik.Web.UI.Editor.Modules.ModuleBase.initializeBase(this,[a]);
this._editor=null;
this._name="";
this._visible=true;
this._enabled=true;
this._rendered=false;
this._enableMaxWidth=true;
this._title="";
this._className="reModule";
this._scriptFile="";
this._attributes={};
this.isSafari=$telerik.isSafari;
this.isIE=$telerik.isIE;
this.isOpera=$telerik.isOpera;
this.isFirefox=$telerik.isFirefox;
};
Telerik.Web.UI.Editor.Modules.ModuleBase.prototype={initialize:function(){Telerik.Web.UI.Editor.Modules.ModuleBase.callBaseMethod(this,"initialize");
if(this.get_visible()){this.render();
}},render:function(){var a=this.get_element();
if(a){a.className=this._className;
}this._rendered=true;
},toggleVisibility:function(){this.set_visible(!this.get_visible());
},attachEventHandler:function(a,c){var b=this.get_editor();
if(b){b.attachEventHandler(a,c);
}},_getLocalizedString:function(b,a){return this._editor.getLocalizedString(b,a);
},get_editor:function(){return this._editor;
},set_editor:function(a){this._editor=a;
},get_attributes:function(){return this._attributes;
},set_attributes:function(a){this._attributes=a;
},get_scriptFile:function(){return this._scriptFile;
},set_scriptFile:function(a){this._scriptFile=a;
},get_visible:function(){var a=this.get_element();
if(!a){return false;
}return(a.style.display!="none");
},set_visible:function(b){if(b&&!this._rendered){this.render();
}var a=this.get_element();
a.style.display=b?"":"none";
},get_enabled:function(){return this._enabled;
},set_enabled:function(a){this._enabled=a;
},get_title:function(){return this._title;
},set_title:function(a){this._title=a;
},get_name:function(){return this._name;
},set_name:function(a){this._name=a;
},dispose:function(){Telerik.Web.UI.Editor.Modules.ModuleBase.callBaseMethod(this,"dispose");
}};
Telerik.Web.UI.Editor.Modules.ModuleBase.registerClass("Telerik.Web.UI.Editor.Modules.ModuleBase",Sys.UI.Control);
Telerik.Web.UI.Editor.Modules.RadEditorDomInspector=function(a){Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.initializeBase(this,[a]);
};
Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.prototype={initialize:function(){this._onSelectionChangeDelegate=Function.createDelegate(this,this.showDomPath);
this._editorPathArray=[];
this._removeElementString=this._getLocalizedString("DomInspectorRemoveElement","Remove Element");
Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.callBaseMethod(this,"initialize");
},dispose:function(){this.clear();
this._registerMouseHandlers(false);
Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.callBaseMethod(this,"dispose");
},render:function(){Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.callBaseMethod(this,"render");
this.clear();
this.get_editor().add_selectionChange(this._onSelectionChangeDelegate);
this._registerMouseHandlers(true);
this.showDomPath();
},_registerMouseHandlers:function(a){var b=this.get_element();
if(true==a){var c={click:this._onMouseClick,mouseover:this._onMouseOver,mouseout:this._onMouseOut};
$addHandlers(b,c,this);
}else{if(b){$clearHandlers(b);
}}},_onMouseOver:function(b){var a=this._getReferredEditorElement(b);
if(!a||this._isSelectedElement(a)){return;
}try{Sys.UI.DomElement.addCssClass(a,"RadEDomMouseOver");
}catch(b){}},_onMouseOut:function(b){var a=this._getReferredEditorElement(b);
if(!a){return;
}try{Sys.UI.DomElement.removeCssClass(a,"RadEDomMouseOver");
if(""==a.className){a.removeAttribute("className",0);
a.removeAttribute("class",0);
}}catch(b){}},_onMouseClick:function(d){var a=d.target;
if(!a||a.tagName!="A"){return null;
}if(a.innerHTML==this._removeElementString){var c=this._editorPathArray[0];
this.removeSelectedElement(c);
}else{var b=this._getReferredEditorElement(d);
this.selectElement(b);
}return $telerik.cancelRawEvent(d);
},clear:function(){this.get_element().innerHTML="&nbsp;";
this._editorPathArray=[];
},_createRemoveLink:function(){var a=document.createElement("a");
a.innerHTML=this._removeElementString;
a.href="javascript:void(0)";
a.className="reModule_domlink";
this.get_element().appendChild(a);
},addDomCouple:function(e,b){if(!e||!e.tagName){return;
}var a=this.get_element();
var d=document.createElement("a");
d.oncontextmenu=$telerik.cancelRawEvent;
d.href="javascript:void(0);";
d.innerHTML=e.tagName;
d.className=b?"reModule_domlink_selected ":"reModule_domlink";
a.appendChild(d);
var c=document.createElement("span");
c.innerHTML="&nbsp;> ";
a.appendChild(c);
},_getPathArray:function(c,b){var a=[];
if(null!=c&&c.nodeType==3){c=c.parentNode;
}while(c!=b&&null!=c){a[a.length]=c;
c=c.parentNode;
}return a;
},_isSelectedElement:function(a){var b=this._editorPathArray;
if(b&&b[0]==a){return true;
}},_getReferredEditorElement:function(f){var c=f.target;
if(!c||c.tagName!="A"){return null;
}var b=this.get_element().getElementsByTagName("A");
var g=-1;
for(var a=0;
a<b.length;
a++){if(b[a]==c){g=a;
break;
}}if(g>-1){var d=this._editorPathArray.concat([]).reverse();
return d[g];
}},showDomPath:function(){if(!this.get_visible()){return;
}try{var d=this.get_editor().getSelectedElement();
if(!d){return;
}var c=this.get_editor().get_contentArea();
if(this.isIE&&!c.contains(d)){return;
}this.clear();
this._editorPathArray=this._getPathArray(d,c);
var a=this._editorPathArray;
for(var b=a.length-1;
b>=0;
b--){this.addDomCouple(a[b],(b==0));
}if(a.length>0){this._createRemoveLink();
}}catch(e){}},selectElement:function(a){try{this._selectedElement=a;
this.get_editor().selectElement(a);
this._selectedElement=null;
}catch(b){}},removeSelectedElement:function(b){try{if(b.tagName=="TD"||b.tagName=="TH"){this.get_editor().fire("DeleteCell");
}else{if(b.tagName=="TR"){this.get_editor().fire("DeleteRow");
}else{if(b.tagName=="TABLE"||b.tagName=="TBODY"||b.tagName=="THEAD"||b.tagName=="TFOOT"||b.tagName=="EMBED"||b.tagName=="OBJECT"||b.tagName=="INPUT"||b.tagName=="IMG"||b.tagName=="HR"){var c=new Telerik.Web.UI.Editor.GenericCommand(this._removeElementString,this.get_editor().get_contentWindow(),this.get_editor());
var a=b.parentNode;
a.removeChild(b);
this.get_editor().setFocus();
this.get_editor().executeCommand(c);
}else{if(b.tagName!="BODY"){var c=new Telerik.Web.UI.Editor.GenericCommand(this._removeElementString,this.get_editor().get_contentWindow(),this.get_editor());
Telerik.Web.UI.Editor.Utils.removeNode(b);
this.get_editor().setFocus();
this.get_editor().executeCommand(c);
}}}}}catch(d){}this.get_editor().raiseEvent("selectionChange");
}};
Telerik.Web.UI.Editor.Modules.RadEditorDomInspector.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorDomInspector",Telerik.Web.UI.Editor.Modules.ModuleBase);
Telerik.Web.UI.Editor.Modules.RadEditorHtmlInspector=function(a){Telerik.Web.UI.Editor.Modules.RadEditorHtmlInspector.initializeBase(this,[a]);
};
Telerik.Web.UI.Editor.Modules.RadEditorHtmlInspector.prototype={initialize:function(){this._onSelectionChangedDelegate=Function.createDelegate(this,this._onSelectionChanged);
this._intervalDelegate=Function.createDelegate(this,this.updateEditorContent);
this._textarea=null;
Telerik.Web.UI.Editor.Modules.RadEditorHtmlInspector.callBaseMethod(this,"initialize");
},dispose:function(){if(this._textarea){this._textarea.value="";
}this._clearInterval();
Telerik.Web.UI.Editor.Modules.RadEditorHtmlInspector.callBaseMethod(this,"dispose");
},_clearInterval:function(){if(this._interval){window.clearInterval(this._interval);
}},set_visible:function(a){Telerik.Web.UI.Editor.Modules.RadEditorHtmlInspector.callBaseMethod(this,"set_visible",[a]);
if(a){this._interval=window.setInterval(this._intervalDelegate,4000);
this._onSelectionChanged();
}else{this._clearInterval();
}},render:function(){Telerik.Web.UI.Editor.Modules.RadEditorHtmlInspector.callBaseMethod(this,"render");
var a=document.createElement("textarea");
a.style.width="99%";
a.className="reTextarea";
a.setAttribute("rows","10");
a.setAttribute("cols","80");
this._textarea=a;
if(!this.isIE){a.onclick=new Function("this.focus();");
}var b=this.get_element();
b.appendChild(a);
this.get_editor().add_selectionChange(this._onSelectionChangedDelegate);
},updateEditorContent:function(){if(!this.get_visible()){return;
}var a=this._textarea.value;
var b=this.get_editor().get_contentArea().innerHTML;
if(a==this._oldContent||a==b){return;
}this._oldContent=a;
this._updateFlag=true;
this.get_editor().set_html(a,this._getLocalizedString("Typing"),false);
this._textarea.focus();
},_onSelectionChanged:function(){if(this._updateFlag){this._updateFlag=false;
return;
}this._textarea.value=this.get_editor().get_contentArea().innerHTML;
}};
Telerik.Web.UI.Editor.Modules.RadEditorHtmlInspector.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorHtmlInspector",Telerik.Web.UI.Editor.Modules.ModuleBase);
Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector=function(a){Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.initializeBase(this,[a]);
this._updateMainPanelDelegate=Function.createDelegate(this,this._updateMainPanel);
this._onToolValueSelectedDelegate=Function.createDelegate(this,this._onToolValueSelected);
this._onDropDownBeforeShowDelegate=Function.createDelegate(this,this._onDropDownBeforeShow);
this._tools={};
this._toolNames={};
this._selectedElement=null;
};
Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.prototype={_nodeAttributesArray:{TABLE:["width","borderColor","cellSpacing","bgColor","className","SetTableProperties","height","cellPadding","align","border"],TH:["width","borderColor","bgColor","className","SetCellProperties","height","align","noWrap","border"],TD:["width","borderColor","bgColor","className","SetCellProperties","height","align","noWrap","border"],TR:["width","className","height"],A:["href","className","LinkManager","title","target"],IMG:["width","borderColor","className","SetImageProperties","height","align","border","alt"],INPUT:["NAME","width","height","id","title","className","value"],FORM:["className","width","height","NAME","action","id"],TEXTAREA:["className","width","height","NAME","id","rows","cols"]},_nodeInspectorAttributesArray:[["rows","NAME","width","cellSpacing","borderColor","href","alt","align","value","target","SetTableProperties","SetCellProperties","LinkManager"],["cols","id","height","action","cellPadding","border","bgColor","title","noWrap","className","SetImageProperties"]],initialize:function(){Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.callBaseMethod(this,"initialize");
this.get_editor().add_selectionChange(this._updateMainPanelDelegate);
this._invalidValueString=this._getLocalizedString("NodeInspectorInvalidValue","Invalid value. Please enter a number.");
},render:function(){Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.callBaseMethod(this,"render");
var a=this.get_element();
a.style.height="50px";
},get_skin:function(){return this._editor.get_skin();
},getNamedCssForSelectedElement:function(a){return this.get_editor().getCssArray(a);
},dispose:function(){this._tools=[];
this._mainPanel=null;
Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.callBaseMethod(this,"dispose");
},_createMainPanel:function(){var b=this._tools;
var e=this._toolNames;
var c=this._nodeInspectorAttributesArray;
var h=document.createElement("table");
h.border=0;
h.cellSpacing=0;
h.cellPadding=0;
for(var g=0;
g<c.length;
g++){var k=c[g];
var j=h.insertRow(-1);
for(var d=0;
d<k.length;
d++){var l=k[d];
var f=j.insertCell(-1);
f.style.display="none";
f.setAttribute("controlName",l);
f.innerHTML=this._getLocalizedString(l,l);
f.className="reModuleLabel";
f=j.insertCell(-1);
f.style.display="none";
f.setAttribute("controlHolder",l);
var a=this._getControlByName(l);
if(a){b[l]=a;
f.appendChild(a.get_element());
}}}return h;
},_updateMainPanel:function(){if(!this.get_visible()){return;
}if(!this._isMainCreated){this._mainPanel=this._createMainPanel();
this._mainPanel.style.display="none";
this.get_element().appendChild(this._mainPanel);
this._isMainCreated=true;
}var a=this.get_editor();
var g=a.getSelectedElement();
if(!g||Telerik.Web.UI.Editor.Utils.isEditorContentArea(g)||g.ownerDocument!=a.get_document()){this._mainPanel.style.display="none";
return;
}if(g.tagName=="TBODY"&&this.isOpera){g=g.parentNode;
}var h=this._nodeAttributesArray[g.tagName];
if(!h){var c=Telerik.Web.UI.Editor.Utils.getElementParentByTag(g,"A");
if(!c){c=Telerik.Web.UI.Editor.Utils.getElementParentByTag(g,"TD");
}if(!c){c=Telerik.Web.UI.Editor.Utils.getElementParentByTag(g,"TH");
}if(c){g=c;
}else{this._mainPanel.style.display="none";
return;
}}var b=null;
if(this._selectedElement){try{b=this._selectedElement.tagName;
}catch(f){}}if(!this._selectedElement||(b!=g.tagName)){var d=this.get_editor().get_document();
this._tools.align.setTagName(g.tagName);
}this._selectedElement=g;
this._updateControlValues(this._selectedElement);
this._mainPanel.style.display="";
},_arrayValueExists:function(b,a){return Array.contains(a,b);
},_issValidAttribValue:function(b){if(null==b){return false;
}b=b.trim();
if(""==b){return true;
}var a=parseInt(b);
if(isNaN(a)){return false;
}return true;
},_onDropDownBeforeShow:function(e,h){var a=this.get_editor();
var d=e.get_name();
var f=e.get_items();
if(f&&f.length>0){return;
}var c=null;
switch(d){case"className":var g=this._selectedElement;
var b=g&&g.tagName?g.tagName:"";
c=a.getCssArray(b);
break;
case"target":c=[["_blank",this._getLocalizedString("blank","New Window")],["_self",this._getLocalizedString("self","Same Window")],["_parent",this._getLocalizedString("parent","Parent window")],["_top",this._getLocalizedString("top","Top browser window")],["_search",this._getLocalizedString("search","Search pane")],["_media",this._getLocalizedString("media","Media pane")]];
break;
case"bgColor":case"borderColor":c=a.get_colors();
break;
}if(c){e.set_items(c);
}},_onToolValueSelected:function(a,b){if(a){if(Telerik.Web.UI.EditorDropDown.isInstanceOfType(a)||Telerik.Web.UI.EditorSpinBox.isInstanceOfType(a)||Telerik.Web.UI.EditorCheckBox.isInstanceOfType(a)||Telerik.Web.UI.EditorTextBox.isInstanceOfType(a)){this.fire(a);
}else{this.get_editor().fire(a.get_name());
}}},executeStyleRuleCommand:function(b,f,d,c){var a=this.get_editor();
var e=new Telerik.Web.UI.Editor.StyleRuleCommand(c,a.get_contentWindow(),b,f,d,a);
a.executeCommand(e);
},executeAttributeCommand:function(b,e,d,c){var a=this.get_editor();
var f=new Telerik.Web.UI.Editor.AttributeCommand(c,a.get_contentWindow(),b,e,d,a);
a.executeCommand(f);
},_updateControlValues:function(l){var g=this._nodeAttributesArray[l.tagName];
var v=this._mainPanel;
var h=this._tools;
for(var t=0;
t<v.rows.length;
t++){var n=v.rows[t];
for(var k=0;
k<n.cells.length;
k++){var a=n.cells[k];
var b=a.getAttribute("controlName");
if(b){a.style.display=this._arrayValueExists(b,g)?"":"none";
}var w=a.getAttribute("controlHolder");
if(w){a.style.display=this._arrayValueExists(w,g)?"":"none";
if("none"==a.style.display){continue;
}var o=h[w];
var m=l.getAttribute?l.getAttribute(w,2):"";
if(w=="noWrap"){var s=(l.style.whiteSpace=="nowrap")?"nowrap":"";
if(!s){s=l.noWrap;
}o.set_value(s);
}else{if(w=="border"){var u=parseInt(l.style.borderWidth);
if(isNaN(u)){u="";
}o.set_value(u);
}else{if(w=="borderColor"||w=="bgColor"){if(w=="bgColor"){w="backgroundColor";
}var u=l.style[w];
if(!u){u=l.getAttribute(w);
}if(u){var q=u.indexOf(")");
if(q!=-1){u=u.substring(0,q+1);
}}o.set_color(u);
}else{if(w=="align"){var c=l.tagName.toLowerCase();
switch(c){case"img":o.updateValue("",null);
var d=($telerik.isIE)?"styleFloat":"cssFloat";
var e=(typeof(l.style[d])=="undefined")?"":l.style[d];
var f=(typeof(l.style.verticalAlign)=="undefined")?"":l.style.verticalAlign;
if(f==""&&e!=""){switch(e){case"left":o.updateValue("left",null);
break;
case"right":o.updateValue("right",null);
break;
}}if(e==""){switch(f){case"top":o.updateValue("top",null);
break;
case"middle":o.updateValue("absmiddle",null);
break;
case"text-bottom":o.updateValue("bottom",null);
break;
}}break;
case"td":case"th":var j=l.style.textAlign;
var f=l.style.verticalAlign;
var p=l.getAttribute("align");
var r=l.getAttribute("vAlign");
if((j=="left"||j=="center"||j=="right")&&(f=="top"||f=="middle"||f=="bottom")){o.updateValue(j,f);
}else{if(p||r){o.updateValue(p,r);
}else{o.updateValue(null,null);
}}break;
default:o.updateValue(l.getAttribute("align"),l.getAttribute("vAlign"));
break;
}}else{if(w=="target"){var u=l.getAttribute(w);
o.updateValue(u);
}else{if(w=="width"||w=="height"){var u=l.style[w];
if(!u){u=l.getAttribute(w);
}o.set_value(u);
}else{if("name"==w.toLowerCase()){o.set_value(l.name);
}else{if("className"==w){if(!this.isIE){m=l.getAttribute("class");
}if(!m){m="";
}o.updateValue(m);
}else{if(m&&o.set_value){o.set_value(m);
}else{if(o.set_value){o.set_value("");
}}}}}}}}}}}}}},fire:function(j){if(!j){return;
}var o=j.get_name();
var d=this.get_editor();
var b=this._getLocalizedString(o,o);
if(!b){b=o;
}var n=this._selectedElement;
if("AlignmentSelector"==o){var i=j.getAlign();
var f=j.getVAlign();
var b=this._getLocalizedString("Align","Align");
var m=this._getLocalizedString("vAlign","vAlign");
var c=($telerik.isIE)?"styleFloat":"cssFloat";
var e=n.tagName.toLowerCase();
var h=false;
switch(e){case"img":switch(i){case"left":this.executeStyleRuleCommand(n,c,"left",b);
this.executeStyleRuleCommand(n,"verticalAlign","",b);
break;
case"right":this.executeStyleRuleCommand(n,c,"right",b);
this.executeStyleRuleCommand(n,"verticalAlign","",b);
break;
case"top":this.executeStyleRuleCommand(n,c,"",b);
this.executeStyleRuleCommand(n,"verticalAlign","top",b);
break;
case"bottom":this.executeStyleRuleCommand(n,c,"",b);
this.executeStyleRuleCommand(n,"verticalAlign","text-bottom",b);
break;
case"absmiddle":this.executeStyleRuleCommand(n,c,"",b);
this.executeStyleRuleCommand(n,"verticalAlign","middle",b);
break;
default:this.executeStyleRuleCommand(n,c,"",b);
this.executeStyleRuleCommand(n,"verticalAlign","",b);
break;
}h=true;
break;
case"td":case"th":this.executeStyleRuleCommand(n,"textAlign",i,b);
this.executeStyleRuleCommand(n,"verticalAlign",f,m);
h=true;
break;
default:this.executeAttributeCommand(n,"align",i,b);
this.executeAttributeCommand(n,"vAlign",f,m);
break;
}if(h){n.removeAttribute("align");
n.removeAttribute("vAlign");
}}else{if("borderColor"==o){var g=j.get_selectedItem();
this.executeStyleRuleCommand(this._selectedElement,"borderColor",g,b);
n.removeAttribute("borderColor");
}else{if("bgColor"==o){var g=j.get_selectedItem();
this.executeStyleRuleCommand(this._selectedElement,"backgroundColor",g,b);
n.removeAttribute("bgColor");
}else{if("border"==o){var g=j.get_selectedItem();
if(!this._issValidAttribValue(g)){alert(this._invalidValueString);
return;
}if(g){g+="px";
this.executeStyleRuleCommand(this._selectedElement,"borderWidth",g,b);
this.executeStyleRuleCommand(this._selectedElement,"borderStyle","solid",b);
}else{this.executeStyleRuleCommand(this._selectedElement,"borderWidth","",b);
this.executeStyleRuleCommand(this._selectedElement,"borderStyle","",b);
}n.removeAttribute("border");
}else{if("width"==o||"height"==o){var g=j.get_selectedItem();
if(!this._issValidAttribValue(g)){alert(this._invalidValueString);
return;
}function a(p){var r=""+p;
if(r.indexOf("%")!=-1){return r;
}else{var q=r.match(/(em|ex|px|in|cm|mm|pt|pc)$/);
r=parseInt(r);
if(!isNaN(r)){r=(q)?r+q[0]:r+"px";
return r;
}}return p;
}g=a(g);
if(this._selectedElement.removeAttribute){this._selectedElement.removeAttribute(o);
}this.executeStyleRuleCommand(this._selectedElement,o,g,b);
}else{if("noWrap"==o){var l=j.get_selectedItem();
if(l){this.executeStyleRuleCommand(this._selectedElement,"whiteSpace","nowrap",b);
}else{this.executeStyleRuleCommand(this._selectedElement,"whiteSpace","",b);
}}else{var k=o;
var l=j.get_selectedItem();
switch(o){case"background":case"className":case"target":case"value":break;
case"cellSpacing":case"cellPadding":if(!this._issValidAttribValue(l)){alert(this._invalidValueString);
return;
}break;
case"NAME":if(!this.isIE){k="name";
}}this.executeAttributeCommand(n,k,l,b);
}}}}}}if(this._selectedElement){this._updateControlValues(this._selectedElement);
}if(this._selectedElement.style.cssText==""){this._selectedElement.removeAttribute("style");
}},_getControlByName:function(d){var a=null;
var c={text:this._getLocalizedString(d),name:d,addClickHandler:true,skin:this.get_skin()};
var b={valueSelected:this._onToolValueSelectedDelegate,show:this._onDropDownBeforeShowDelegate};
switch(d){case"className":c.text=this._getLocalizedString("className");
c.width="90px";
a=Telerik.Web.UI.EditorButton.createTool(c,b,Telerik.Web.UI.Editor.ApplyClassDropDown);
break;
case"borderColor":case"bgColor":c.addCustomColorText=this._getLocalizedString("AddCustomColor");
a=Telerik.Web.UI.EditorButton.createTool(c,b,Telerik.Web.UI.Editor.ColorPicker);
break;
case"align":c.name="AlignmentSelector";
c.text=this._getLocalizedString("align");
a=Telerik.Web.UI.EditorButton.createTool(c,b,Telerik.Web.UI.Editor.AlignmentSelector);
break;
case"SetCellProperties":case"SetTableProperties":case"SetImageProperties":case"LinkManager":delete b.show;
a=Telerik.Web.UI.EditorButton.createTool(c,b);
break;
case"target":c.sizetofit=true;
c.width="90px";
a=Telerik.Web.UI.EditorButton.createTool(c,b,Telerik.Web.UI.EditorUpdateableDropDown);
break;
case"noWrap":delete b.show;
a=Telerik.Web.UI.EditorButton.createTool(c,b,Telerik.Web.UI.EditorCheckBox,document.createElement("span"));
break;
case"width":case"height":case"cellPadding":case"cellSpacing":case"rows":case"cols":case"border":delete b.show;
a=Telerik.Web.UI.EditorButton.createTool(c,b,Telerik.Web.UI.EditorSpinBox,document.createElement("span"));
break;
default:delete b.show;
a=Telerik.Web.UI.EditorButton.createTool(c,b,Telerik.Web.UI.EditorTextBox,document.createElement("span"));
}return a;
}};
Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorNodeInspector",Telerik.Web.UI.Editor.Modules.ModuleBase);
Telerik.Web.UI.Editor.Modules.RadEditorStatistics=function(a){Telerik.Web.UI.Editor.Modules.RadEditorStatistics.initializeBase(this,[a]);
};
Telerik.Web.UI.Editor.Modules.RadEditorStatistics.prototype={initialize:function(){this._enableMaxWidth=false;
this._wordsString=this._getLocalizedString("StatisticsWords","Words:");
this._charactersString=this._getLocalizedString("StatisticsCharacters","Characters:");
this._onDoCountDelegate=Function.createDelegate(this,this.doCount);
Telerik.Web.UI.Editor.Modules.RadEditorStatistics.callBaseMethod(this,"initialize");
},render:function(){Telerik.Web.UI.Editor.Modules.RadEditorStatistics.callBaseMethod(this,"render");
this.get_editor().add_selectionChange(this._onDoCountDelegate);
this.doCount();
},doCount:function(){if(!this.get_visible()){return;
}var h=this.get_editor().get_text();
var g=0;
var d=0;
if(h){var f=/[!\.?;,:&_\-\?\{\}\[\]\(\)~#'"]/g;
h=h.replace(f,"");
var e=/(^\s+)|(\s+$)/g;
h=h.replace(e,"");
if(h){var c=/\s+/;
var i=h.split(c);
g=i.length;
var b=/(\r\n)+/g;
h=h.replace(b,"");
d=h.length;
}}var a=this.get_element();
a.innerHTML="<span style='line-height:22px'>"+this._wordsString+" "+g+" &nbsp;&nbsp;"+this._charactersString+" "+d+"&nbsp;</span>";
}};
Telerik.Web.UI.Editor.Modules.RadEditorStatistics.registerClass("Telerik.Web.UI.Editor.Modules.RadEditorStatistics",Telerik.Web.UI.Editor.Modules.ModuleBase);
