Type.registerNamespace("Telerik.Web");
Telerik.Web.UI.RadCaptcha=function(a){Telerik.Web.UI.RadCaptcha.initializeBase(this,[a]);
this._audioElement=null;
this._objectElement=null;
this._audioUrl=null;
this._enableAudio=false;
this._persistCode=false;
};
$telerik.toCaptcha=function(a){return a;
};
$telerik.findCaptcha=$find;
Telerik.Web.UI.RadCaptcha.prototype={initialize:function(){Telerik.Web.UI.RadCaptcha.callBaseMethod(this,"initialize");
var a=$get(this.get_id()+"_CaptchaTextBox");
if(a){a.setAttribute("autoComplete","off");
}if(this.get_enableAudio()){this._createAudioElements();
this._setAudioUrlDelegate=Function.createDelegate(this,this._setAudioUrl);
Sys.WebForms.PageRequestManager.getInstance().add_endRequest(this._setAudioUrlDelegate);
}},dispose:function(){if(this.get_audioLink()){$clearHandlers(this.get_audioLink());
}if(this._setAudioUrlDelegate){Sys.WebForms.PageRequestManager.getInstance().remove_endRequest(this._setAudioUrlDelegate);
}Telerik.Web.UI.RadCaptcha.callBaseMethod(this,"dispose");
},get_audioUrl:function(){return this._audioUrl;
},set_audioUrl:function(a){this._audioUrl=a;
},get_enableAudio:function(){return this._enableAudio;
},set_enableAudio:function(a){this._enableAudio=a;
},get_audioLink:function(){var a=this._getChildElement("CaptchaAudioCode");
if(!a){a=this._getChildElement("CaptchaAudioCodeUP");
}return a;
},_supportsAudio:function(){return this._audioElement&&(this._audioElement.play||this._audioElement.canPlayType);
},_createAudioElements:function(){var c=this.get_audioUrl();
var b=this.get_audioLink();
b.setAttribute("href","#");
$addHandlers(b,{click:this.onAudioPlay},this);
var a=b.parentNode;
this._audioElement=this._createAudioElement(c);
a.appendChild(this._audioElement);
if(!this._supportsAudio()||(this._audioElement&&this._audioElement.canPlayType&&!this._audioElement.canPlayType("audio/wav"))){this._objectElement=this._createObjectElement(c);
a.appendChild(this._objectElement);
}},_createAudioElement:function(a){var b=document.createElement("audio");
b.setAttribute("src",a);
b.style.position="absolute";
b.style.top=0;
b.style.left=0;
return b;
},_createObjectElement:function(a){var b=document.createElement("embed");
b.setAttribute("id",this.get_id()+"_playAudio");
b.setAttribute("src",a);
b.setAttribute("autostart","false");
b.setAttribute("pluginspage","http://www.apple.com/quicktime/download/");
b.setAttribute("name","CaptchaAudio");
b.setAttribute("enablejavascript","true");
b.setAttribute("type","audio/wav");
b.style.width="0px";
b.style.hegiht="0px";
b.style.position="absolute";
b.style.top=0;
b.style.left=0;
return b;
},onAudioPlay:function(a){if(this._objectElement){this._objectElement.Play();
}else{if(this._audioElement&&this._audioElement.play){if($telerik.isChrome||this._persistCode){this._audioElement.load();
}this._audioElement.play();
}}return $telerik.cancelRawEvent(a);
},_setAudioUrl:function(c,a){var b=this.get_audioLink();
if(b){var d=b.getAttribute("href",2);
if(d&&d!="#"){this.set_audioUrl(d);
this._audioElement=null;
this._objectElement=null;
this._createAudioElements();
}}}};
Telerik.Web.UI.RadCaptcha.registerClass("Telerik.Web.UI.RadCaptcha",Telerik.Web.UI.RadWebControl);
